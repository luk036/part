<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FMBiGainMgr2 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>FMBiGainMgr2 Class Reference<div class="ingroups"><a class="el" href="group__group3.html">Bi-partitioner Core Engine</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="FMBiGainMgr2" -->
<p><code>#include &lt;<a class="el" href="FMBiGainMgr2_8hpp_source.html">FMBiGainMgr2.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FMBiGainMgr2:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2__inherit__graph.png" border="0" usemap="#FMBiGainMgr2_inherit__map" alt="Inheritance graph"/></div>
<map name="FMBiGainMgr2_inherit__map" id="FMBiGainMgr2_inherit__map">
<area shape="rect" id="node3" href="classFMBiGainMgr3.html" title="{FMBiGainMgr3\n||+ FMBiGainMgr3()\l+ updateNeighbor()\l}" alt="" coords="5,347,139,450"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for FMBiGainMgr2:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2__coll__graph.png" border="0" usemap="#FMBiGainMgr2_coll__map" alt="Collaboration graph"/></div>
<map name="FMBiGainMgr2_coll__map" id="FMBiGainMgr2_coll__map">
<area shape="rect" id="node2" href="classCell.html" title="{Cell\n|&#45; _weight\l&#45; _type\l&#45; _isVisited\l&#45; _isFixed\l&#45; _isLocked\l|+ Cell()\l+ getType()\l+ setCluster()\l+ isCluster()\l+ isPad()\l+ isFixed()\l+ setFixed()\l+ clrFixed()\l+ toggleFixed()\l+ isVisited()\l+ setVisited()\l+ clrVisited()\l+ toggleVisited()\l+ isLocked()\l+ lock()\l+ unlock()\l+ getWeight()\l+ setWeight()\l# setType()\l}" alt="" coords="104,2357,221,2824"/><area shape="rect" id="node6" href="classPin.html" title="{Pin\n|&#45; _nextAdjPinForCell\l&#45; _theCell\l&#45; _theNet\l|+ Pin()\l+ getDirection()\l+ setDirection()\l+ getCell()\l+ getNet()\l+ nextAdjPinForCell()\l}" alt="" coords="89,3307,236,3514"/><area shape="rect" id="node4" href="classNode.html" title="{Node\n|&#45; _firstAdjPin\l|+ Node()\l+ firstAdjPin()\l+ firstAdjPin()\l&#45; resetFirstAdjPin()\l}" alt="" coords="5,3625,136,3762"/><area shape="rect" id="node10" href="classNet.html" title="{Net\n|&#45; _weight\l&#45; _isVisited\l&#45; _isFixed\l|+ Net()\l+ isFixed()\l+ setFixed()\l+ clrFixed()\l+ toggleFixed()\l+ isVisited()\l+ setVisited()\l+ clrVisited()\l+ toggleVisited()\l+ getWeight()\l+ setWeight()\l+ isHighFanout()\l}" alt="" coords="88,3814,205,4125"/><area shape="rect" id="node13" href="classGNode.html" title="{GNode\n|+ _next\l+ _prev\l+ _key\l|+ GNode()\l+ getKey()\l+ setKey()\l}" alt="" coords="572,5,655,160"/><area shape="rect" id="node22" href="classGDList.html" title="{GDList\&lt; Vertex \&gt;\n|&#45; _head\l&#45; _tail\l|+ GDList()\l+ isEmpty()\l+ clear()\l+ first()\l+ first()\l+ last()\l+ last()\l+ pushFront()\l+ pushBack()\l+ pushRandom()\l+ popFront()\l+ popBack()\l+ popFrontFast()\l+ popBackFast()\l+ concat()\l+ isValid()\l+ detach()\l&#45; GDList()\l&#45; makeDummy()\l&#45; operator=()\l&#45; nil()\l&#45; nil()\l* nil()\l* nil()\l}" alt="" coords="551,243,676,744"/><area shape="rect" id="node28" href="classGDListCursor.html" title="{GDListCursor\&lt; Vertex \&gt;\n|&#45; _nil\l&#45; _cur\l|+ GDListCursor()\l+ GDListCursor()\l+ associate()\l+ hasNext()\l+ reset()\l+ getNext()\l}" alt="" coords="667,768,829,957"/><area shape="rect" id="node16" href="classNetlist.html" title="{Netlist\n|&#45; _vertexArray\l&#45; _masterList\l&#45; _prune2PinNets\l&#45; _prune3PinNets\l|+ Netlist()\l+ ~Netlist()\l+ clear()\l+ clearMasterList()\l+ initVertexArray()\l+ getMaster()\l+ getMaster()\l+ getVertex()\l+ getVertex()\l+ getVertexArray()\l+ maximalMatchingNets()\l+ maximalMatchingNetsOK()\l+ minimumNetCover()\l+ minimumNetCoverOK()\l+ minimumNetCover2()\l+ minimumNetCover3()\l+ maximumIndependentSet()\l+ maximumIndependentSetOK()\l+ firstChoice()\l+ randomChoice()\l+ contractByMMC()\l+ contractByMMC2()\l+ contractByISC()\l+ contractByFC()\l+ contractByRandom()\l+ contractByMMC()\l+ contractByMMC2()\l+ contractByISC()\l+ contractByFC()\l+ contractByRandom()\l+ contractCore()\l+ contractPhase2()\l+ contractCoreOK()\l+ clusterSize()\l+ projectUp()\l+ projectDown()\l+ markHighFanOutNets()\l+ markZeroPinNets()\l+ markInterfaceNets()\l+ setFixedNets()\l+ setProxCells()\l+ initWeightList()\l+ isVILEOk()\l+ pairWisePhase1()\l+ pairWisePhase2()\l&#45; constructDegree()\l&#45; constructClustersFromFixedCells()\l&#45; constructClustersFromSelectedNets()\l&#45; constructClustersFromOtherNets()\l&#45; constructIsolatedCells()\l&#45; constructCells()\l&#45; pruneInternalNets()\l&#45; pruneIdenticalNets()\l&#45; constructNets()\l&#45; constructPinsForNets()\l&#45; constructPins()\l&#45; contractibility()\l&#45; pinCount()\l&#45; ExternalPins()\l&#45; setFixedCells()\l&#45; setProxCellsRecur()\l&#45; needPrune2PinNets()\l&#45; needPrune3PinNets()\l}" alt="" coords="765,1985,1016,3197"/><area shape="rect" id="node18" href="classNetlistBase.html" title="{NetlistBase\n|# _numCells\l# _numNets\l# _numPins\l# _padOffset\l# _maxDegree\l# _cellList\l# _netList\l# _pinList\l# _totalWeight\l# _hasFixedCells\l# _costModel\l|+ NetlistBase()\l+ ~NetlistBase()\l+ clear()\l+ getNumCells()\l+ getNumNets()\l+ getNumPads()\l+ getNumPins()\l+ getMaxDegree()\l+ getId()\l+ getId()\l+ getCell()\l+ getNet()\l+ getPin()\l+ getCell()\l+ getNet()\l+ getPin()\l+ getTotalWeight()\l+ clrVisitedAllNets()\l+ clrFixedAllNets()\l+ clrVisitedAllCells()\l+ readHMetis()\l+ writeHMetis()\l+ writeDot()\l+ readNetD()\l+ readQtNetD()\l+ readAre()\l+ writeSol()\l+ readHMetisSol()\l+ hasFixedCells()\l+ checkOk()\l+ printNetDist()\l+ getCostModel()\l+ setCostModel()\l+ cutCost()\l+ KMinus1Cost()\l+ SOEDCost()\l+ HyperEdgeCost()\l+ cutCost()\l# connect()\l&#45; cutCost()\l}" alt="" coords="820,982,961,1917"/><area shape="rect" id="node20" href="classGBPQueue.html" title="{GBPQueue\&lt; Vertex \&gt;\n|&#45; _offset\l&#45; _high\l&#45; _max\l&#45; _T\l|+ GBPQueue()\l+ GBPQueue()\l+ ~GBPQueue()\l+ setUp()\l+ getKey()\l+ getMax()\l+ isEmpty()\l+ isValid()\l+ makeDummy()\l+ clear()\l+ pushBack()\l+ pushBackFast()\l+ resync()\l+ popFront()\l+ decreaseKeyLIFOBy()\l+ increaseKeyLIFOBy()\l+ promote()\l+ demote()\l+ decreaseKeyBy()\l+ increaseKeyBy()\l+ modifyKeyLIFOBy()\l+ modifyKeyBy()\l+ detach()\l+ pushTo()\l&#45; GBPQueue()\l&#45; operator=()\l}" alt="" coords="436,1164,599,1735"/><area shape="rect" id="node25" href="classGBPQueueCursor.html" title="{GBPQueueCursor\&lt; Vertex \&gt;\n|&#45; _bpq\l&#45; _T\l&#45; _curKey\l&#45; _lc\l|+ GBPQueueCursor()\l+ GBPQueueCursor()\l+ associate()\l+ reset()\l+ hasNext()\l+ getRelKey()\l+ getNext()\l&#45; getKey()\l}" alt="" coords="552,2461,741,2720"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classFMBiGainMgr2-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a781393b972faf4406b4268b38c6a2652">FMBiGainMgr2</a> (const <a class="el" href="classFMParam.html">FMParam</a> &amp;param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a616cd0d68f42b0968bb4591d877b6e0f">init</a> (const std::vector&lt; unsigned char &gt; &amp;part, const std::vector&lt; short &gt; &amp;gain)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGNode.html">Vertex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#aaee5581ac13df0b7a9b306f68ccd3a8c">select</a> (<a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;moveInfo, const std::vector&lt; unsigned char &gt; &amp;, const <a class="el" href="classBiConstrMgr3.html">BiConstrMgr3</a> &amp;constraintMgr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGNode.html">Vertex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#af6b8fdbdc4ad5079b3a98b0aa7bd6212">select</a> (<a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;moveInfo, const <a class="el" href="classBiConstrMgr3.html">BiConstrMgr3</a> &amp;constraintMgr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a6520407d8e1b34f5e772eed8b76cd1ee">getGain</a> (const <a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;moveInfo) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a56d57465dbc324c3500b5b310ae064b1">updateMove</a> (const <a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;moveInfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a9de549601a25284c14da04cf8f2dac4a">updateNeighbor</a> (unsigned int whichPart, unsigned int i_w, short deltaGain)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a5b2266303b34c461163a1b0888d15d53">pushBack</a> (unsigned int whichPart, const <a class="el" href="classCell.html">Cell</a> &amp;v, short gain)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a58a6cd23887cedad9e8dfc1178d69524">updateGain</a> (const std::vector&lt; unsigned char &gt; &amp;part, const std::vector&lt; short &gt; &amp;gain)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNetlist.html">Netlist</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a52a849461aa7894bf38676da99c7235b">_H</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGBPQueue.html">VertexPQ</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a28c5f7de3813dcd87a905eacbbe0a469">_gainBucket</a> [2]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGBPQueueCursor.html">VertexPQCur</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#ac11306da8f8fc38c5faa87d1003e584d">_gainBucketCur</a> [2]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGNode.html">Vertex</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a2a44c6720a7d35b9682ee5edff12819e">_vertexArray</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCell.html">Cell</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFMBiGainMgr2.html#a2d3112ea5a792b931298af18371777f5">_cellList</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>FM Bi-partitioning Gain Manager. This class responsible for maintaining the gain bucket structures and helps to select the best vertex. The data structure used for selecting the next vertex to be moved is as follows. The vertex gain is an (short) integer and each vertex has its gain in the range -pmax to +pmax, where pmax is the maximum vertex degree in the hypergraph. Since vertex gain have restricted values, 'bucket' sorting can be used to maintain a sorted list of vertex gains. This is done using an array BUCKET[-pmax, ..., pmax], whose kth entry contains a doubly-linked list of free vertices with gains currently equal to k (<a class="el" href="classGBPQueue.html">GBPQueue</a>). Two such arrays are used, one for each partition. Each array is maintained by moving a vertex to the appropriate bucket whenever its gain changes due to the movement of one of its neighbors. Direct access to each vertex, from a separate field in the VERTEX array (_vertexArray), allows removal of a vertex from its current list and its movement to the head of its new bucket list in constant time. As only free vertices are allowed to move, therefore, only their gains are updated. For each BUCKET array, a _max index is maintained which is used to keep track of the bucket having a vertex of highest gain. This index is updated by decrementing it whenever its bucket is found to be empty and reseetting it to a higher bucket whenever a vertex moves to a bucket above _max. Experimental results on real circuits have shown that gains tend to cluster sharply around the origin and that _max moves very little, making the implementation exceptionally fast and simple. Reference: N. Sherwani. Algorithms for VLSI Physical Desgin Automation, 3rd Ed. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a781393b972faf4406b4268b38c6a2652"></a><!-- doxytag: member="FMBiGainMgr2::FMBiGainMgr2" ref="a781393b972faf4406b4268b38c6a2652" args="(const FMParam &amp;param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FMBiGainMgr2::FMBiGainMgr2 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFMParam.html">FMParam</a> &amp;&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor </p>

<p>References <a class="el" href="classFMBiGainMgr2.html#a28c5f7de3813dcd87a905eacbbe0a469">_gainBucket</a>, <a class="el" href="classFMBiGainMgr2.html#ac11306da8f8fc38c5faa87d1003e584d">_gainBucketCur</a>, <a class="el" href="classFMBiGainMgr2.html#a52a849461aa7894bf38676da99c7235b">_H</a>, <a class="el" href="classGBPQueueCursor.html#a56866a618c38e07963560afb3afc9377">GBPQueueCursor&lt; BPQNode &gt;::associate()</a>, <a class="el" href="classNetlistBase.html#a86cbe7e2cb24bbd980014e2b1503a492">NetlistBase::getMaxDegree()</a>, and <a class="el" href="classGBPQueue.html#a9ab71d24f8b4a9ddcab97d1644d7605f">GBPQueue&lt; BPQNode &gt;::setUp()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2_a781393b972faf4406b4268b38c6a2652_cgraph.png" border="0" usemap="#classFMBiGainMgr2_a781393b972faf4406b4268b38c6a2652_cgraph" alt=""/></div>
<map name="classFMBiGainMgr2_a781393b972faf4406b4268b38c6a2652_cgraph" id="classFMBiGainMgr2_a781393b972faf4406b4268b38c6a2652_cgraph">
<area shape="rect" id="node3" href="classGBPQueueCursor.html#a56866a618c38e07963560afb3afc9377" title="GBPQueueCursor::associate" alt="" coords="260,5,449,35"/><area shape="rect" id="node5" href="classNetlistBase.html#a86cbe7e2cb24bbd980014e2b1503a492" title="NetlistBase::getMaxDegree" alt="" coords="264,59,445,88"/><area shape="rect" id="node7" href="classGBPQueue.html#a9ab71d24f8b4a9ddcab97d1644d7605f" title="Setup." alt="" coords="289,112,420,141"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6520407d8e1b34f5e772eed8b76cd1ee"></a><!-- doxytag: member="FMBiGainMgr2::getGain" ref="a6520407d8e1b34f5e772eed8b76cd1ee" args="(const FMMoveInfo &amp;moveInfo) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FMBiGainMgr2::getGain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>moveInfo</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the gain of vertex if it moves </dd></dl>

<p>References <a class="el" href="classFMMoveInfo.html#ab37322288e90c7baed7f313bf5323e62">FMMoveInfo::_fromPart</a>, <a class="el" href="classFMBiGainMgr2.html#a28c5f7de3813dcd87a905eacbbe0a469">_gainBucket</a>, <a class="el" href="classFMMoveInfo.html#a2adf498fb80eb4ca98298d20333426f8">FMMoveInfo::_i_v</a>, <a class="el" href="classFMBiGainMgr2.html#a2a44c6720a7d35b9682ee5edff12819e">_vertexArray</a>, and <a class="el" href="classGBPQueue.html#a5b168542d090d719b3e6e6fcb45fbf49">GBPQueue&lt; BPQNode &gt;::getKey()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2_a6520407d8e1b34f5e772eed8b76cd1ee_cgraph.png" border="0" usemap="#classFMBiGainMgr2_a6520407d8e1b34f5e772eed8b76cd1ee_cgraph" alt=""/></div>
<map name="classFMBiGainMgr2_a6520407d8e1b34f5e772eed8b76cd1ee_cgraph" id="classFMBiGainMgr2_a6520407d8e1b34f5e772eed8b76cd1ee_cgraph">
<area shape="rect" id="node3" href="classGBPQueue.html#a5b168542d090d719b3e6e6fcb45fbf49" title="Get the key." alt="" coords="217,5,353,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a616cd0d68f42b0968bb4591d877b6e0f"></a><!-- doxytag: member="FMBiGainMgr2::init" ref="a616cd0d68f42b0968bb4591d877b6e0f" args="(const std::vector&lt; unsigned char &gt; &amp;part, const std::vector&lt; short &gt; &amp;gain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FMBiGainMgr2::init </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; short &gt; &amp;&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Setup the gain bucket structure </p>

<p>Referenced by <a class="el" href="classFMBiGainMgr2.html#a58a6cd23887cedad9e8dfc1178d69524">updateGain()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b2266303b34c461163a1b0888d15d53"></a><!-- doxytag: member="FMBiGainMgr2::pushBack" ref="a5b2266303b34c461163a1b0888d15d53" args="(unsigned int whichPart, const Cell &amp;v, short gain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FMBiGainMgr2::pushBack </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>whichPart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCell.html">Cell</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Push back the cell to gain bucket. Precondition: v is not in bucket. </p>

<p>References <a class="el" href="classFMBiGainMgr2.html#a2d3112ea5a792b931298af18371777f5">_cellList</a>, <a class="el" href="classFMBiGainMgr2.html#a28c5f7de3813dcd87a905eacbbe0a469">_gainBucket</a>, <a class="el" href="classFMBiGainMgr2.html#a2a44c6720a7d35b9682ee5edff12819e">_vertexArray</a>, and <a class="el" href="classGBPQueue.html#aedc9f969d224c024104a9863a30ae6d6">GBPQueue&lt; BPQNode &gt;::pushBack()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2_a5b2266303b34c461163a1b0888d15d53_cgraph.png" border="0" usemap="#classFMBiGainMgr2_a5b2266303b34c461163a1b0888d15d53_cgraph" alt=""/></div>
<map name="classFMBiGainMgr2_a5b2266303b34c461163a1b0888d15d53_cgraph" id="classFMBiGainMgr2_a5b2266303b34c461163a1b0888d15d53_cgraph">
<area shape="rect" id="node3" href="classGBPQueue.html#aedc9f969d224c024104a9863a30ae6d6" title="Insert item at the end of this queue." alt="" coords="229,5,384,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaee5581ac13df0b7a9b306f68ccd3a8c"></a><!-- doxytag: member="FMBiGainMgr2::select" ref="aaee5581ac13df0b7a9b306f68ccd3a8c" args="(FMMoveInfo &amp;moveInfo, const std::vector&lt; unsigned char &gt; &amp;, const BiConstrMgr3 &amp;constraintMgr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGNode.html">Vertex</a>* FMBiGainMgr2::select </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>moveInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBiConstrMgr3.html">BiConstrMgr3</a> &amp;&#160;</td>
          <td class="paramname"><em>constraintMgr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Select the next "best" vertex that satisfies all constraints when it is moved. In this implementation, we pick two vertices from both partitions with the highest gains. If both has equal gain, the one that minimizes the balance different will be chosen. </p>

</div>
</div>
<a class="anchor" id="af6b8fdbdc4ad5079b3a98b0aa7bd6212"></a><!-- doxytag: member="FMBiGainMgr2::select" ref="af6b8fdbdc4ad5079b3a98b0aa7bd6212" args="(FMMoveInfo &amp;moveInfo, const BiConstrMgr3 &amp;constraintMgr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGNode.html">Vertex</a> * FMBiGainMgr2::select </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>moveInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBiConstrMgr3.html">BiConstrMgr3</a> &amp;&#160;</td>
          <td class="paramname"><em>constraintMgr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the next "best" vertex that satisfies all constraints when it is moved. Return also move from where to where. </dd></dl>

<p>References <a class="el" href="classFMBiGainMgr2.html#a2d3112ea5a792b931298af18371777f5">_cellList</a>, <a class="el" href="classFMBiGainMgr2.html#ac11306da8f8fc38c5faa87d1003e584d">_gainBucketCur</a>, <a class="el" href="classFMBiGainMgr2.html#a2a44c6720a7d35b9682ee5edff12819e">_vertexArray</a>, <a class="el" href="classGBPQueueCursor.html#a4b0bcdbf2902f051f84dabe921aa544a">GBPQueueCursor&lt; BPQNode &gt;::getNext()</a>, <a class="el" href="classGBPQueueCursor.html#aee2b76a05ab3fe286f2d262909e031ce">GBPQueueCursor&lt; BPQNode &gt;::getRelKey()</a>, <a class="el" href="classGBPQueueCursor.html#a1f48742582be6b04009740ac92bdd08f">GBPQueueCursor&lt; BPQNode &gt;::reset()</a>, and <a class="el" href="classBiConstrMgr3.html#ab1201744e995101c5db5c79b49dfcb22">BiConstrMgr3::satisfied()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2_af6b8fdbdc4ad5079b3a98b0aa7bd6212_cgraph.png" border="0" usemap="#classFMBiGainMgr2_af6b8fdbdc4ad5079b3a98b0aa7bd6212_cgraph" alt=""/></div>
<map name="classFMBiGainMgr2_af6b8fdbdc4ad5079b3a98b0aa7bd6212_cgraph" id="classFMBiGainMgr2_af6b8fdbdc4ad5079b3a98b0aa7bd6212_cgraph">
<area shape="rect" id="node3" href="classGBPQueueCursor.html#a4b0bcdbf2902f051f84dabe921aa544a" title="GBPQueueCursor::getNext" alt="" coords="213,5,395,35"/><area shape="rect" id="node5" href="classGBPQueueCursor.html#aee2b76a05ab3fe286f2d262909e031ce" title="GBPQueueCursor::getRelKey" alt="" coords="207,59,401,88"/><area shape="rect" id="node7" href="classGBPQueueCursor.html#a1f48742582be6b04009740ac92bdd08f" title="GBPQueueCursor::reset" alt="" coords="223,112,385,141"/><area shape="rect" id="node9" href="classBiConstrMgr3.html#ab1201744e995101c5db5c79b49dfcb22" title="Check if the moved is OK." alt="" coords="225,165,383,195"/><area shape="rect" id="node11" href="classCell.html#a8c6ccf0f0f22a686dc6c6bffe9c5f7f3" title="Cell::getWeight" alt="" coords="451,165,563,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a58a6cd23887cedad9e8dfc1178d69524"></a><!-- doxytag: member="FMBiGainMgr2::updateGain" ref="a58a6cd23887cedad9e8dfc1178d69524" args="(const std::vector&lt; unsigned char &gt; &amp;part, const std::vector&lt; short &gt; &amp;gain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FMBiGainMgr2::updateGain </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; short &gt; &amp;&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the gain structure according to the freeVertexList. </p>

<p>References <a class="el" href="classFMBiGainMgr2.html#a616cd0d68f42b0968bb4591d877b6e0f">init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2_a58a6cd23887cedad9e8dfc1178d69524_cgraph.png" border="0" usemap="#classFMBiGainMgr2_a58a6cd23887cedad9e8dfc1178d69524_cgraph" alt=""/></div>
<map name="classFMBiGainMgr2_a58a6cd23887cedad9e8dfc1178d69524_cgraph" id="classFMBiGainMgr2_a58a6cd23887cedad9e8dfc1178d69524_cgraph">
<area shape="rect" id="node3" href="classFMBiGainMgr2.html#a616cd0d68f42b0968bb4591d877b6e0f" title="FMBiGainMgr2::init" alt="" coords="239,5,372,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a56d57465dbc324c3500b5b310ae064b1"></a><!-- doxytag: member="FMBiGainMgr2::updateMove" ref="a56d57465dbc324c3500b5b310ae064b1" args="(const FMMoveInfo &amp;moveInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FMBiGainMgr2::updateMove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFMMoveInfo.html">FMMoveInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>moveInfo</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the moved cell in the gain bucket </p>

<p>References <a class="el" href="classFMMoveInfo.html#ab37322288e90c7baed7f313bf5323e62">FMMoveInfo::_fromPart</a>, <a class="el" href="classFMBiGainMgr2.html#a28c5f7de3813dcd87a905eacbbe0a469">_gainBucket</a>, <a class="el" href="classFMMoveInfo.html#a2adf498fb80eb4ca98298d20333426f8">FMMoveInfo::_i_v</a>, <a class="el" href="classFMBiGainMgr2.html#a2a44c6720a7d35b9682ee5edff12819e">_vertexArray</a>, and <a class="el" href="classGBPQueue.html#a162aca834ac46fd313c128e5a9a06b3f">GBPQueue&lt; BPQNode &gt;::detach()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2_a56d57465dbc324c3500b5b310ae064b1_cgraph.png" border="0" usemap="#classFMBiGainMgr2_a56d57465dbc324c3500b5b310ae064b1_cgraph" alt=""/></div>
<map name="classFMBiGainMgr2_a56d57465dbc324c3500b5b310ae064b1_cgraph" id="classFMBiGainMgr2_a56d57465dbc324c3500b5b310ae064b1_cgraph">
<area shape="rect" id="node3" href="classGBPQueue.html#a162aca834ac46fd313c128e5a9a06b3f" title="GBPQueue::detach" alt="" coords="244,5,377,35"/><area shape="rect" id="node5" href="classGDList.html#a26eec3ff5320ce19418c017c1f4ed5ce" title="GDList::detach" alt="" coords="428,5,537,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9de549601a25284c14da04cf8f2dac4a"></a><!-- doxytag: member="FMBiGainMgr2::updateNeighbor" ref="a9de549601a25284c14da04cf8f2dac4a" args="(unsigned int whichPart, unsigned int i_w, short deltaGain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FMBiGainMgr2::updateNeighbor </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>whichPart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>deltaGain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the neighbor of the moved cells due to the move. </p>

<p>Reimplemented in <a class="el" href="group__group3.html#ga178e4046bd22caac0c4dcc1008b554f2">FMBiGainMgr3</a>.</p>

<p>References <a class="el" href="classFMBiGainMgr2.html#a2d3112ea5a792b931298af18371777f5">_cellList</a>, <a class="el" href="classFMBiGainMgr2.html#a28c5f7de3813dcd87a905eacbbe0a469">_gainBucket</a>, <a class="el" href="classFMBiGainMgr2.html#a2a44c6720a7d35b9682ee5edff12819e">_vertexArray</a>, and <a class="el" href="classGBPQueue.html#a3000cd6361e5ef3afa2e5d3c1139e13a">GBPQueue&lt; BPQNode &gt;::modifyKeyLIFOBy()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classFMBiGainMgr2_a9de549601a25284c14da04cf8f2dac4a_cgraph.png" border="0" usemap="#classFMBiGainMgr2_a9de549601a25284c14da04cf8f2dac4a_cgraph" alt=""/></div>
<map name="classFMBiGainMgr2_a9de549601a25284c14da04cf8f2dac4a_cgraph" id="classFMBiGainMgr2_a9de549601a25284c14da04cf8f2dac4a_cgraph">
<area shape="rect" id="node3" href="classGBPQueue.html#a3000cd6361e5ef3afa2e5d3c1139e13a" title="Modify key by m. Precondition: PQ contains it." alt="" coords="261,5,464,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2d3112ea5a792b931298af18371777f5"></a><!-- doxytag: member="FMBiGainMgr2::_cellList" ref="a2d3112ea5a792b931298af18371777f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCell.html">Cell</a>* const <a class="el" href="classFMBiGainMgr2.html#a2d3112ea5a792b931298af18371777f5">FMBiGainMgr2::_cellList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classCell.html">Cell</a> array offset </p>

<p>Referenced by <a class="el" href="classFMBiGainMgr2.html#a5b2266303b34c461163a1b0888d15d53">pushBack()</a>, <a class="el" href="classFMBiGainMgr2.html#af6b8fdbdc4ad5079b3a98b0aa7bd6212">select()</a>, <a class="el" href="group__group3.html#ga178e4046bd22caac0c4dcc1008b554f2">FMBiGainMgr3::updateNeighbor()</a>, and <a class="el" href="classFMBiGainMgr2.html#a9de549601a25284c14da04cf8f2dac4a">updateNeighbor()</a>.</p>

</div>
</div>
<a class="anchor" id="a28c5f7de3813dcd87a905eacbbe0a469"></a><!-- doxytag: member="FMBiGainMgr2::_gainBucket" ref="a28c5f7de3813dcd87a905eacbbe0a469" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGBPQueue.html">VertexPQ</a> <a class="el" href="classFMBiGainMgr2.html#a28c5f7de3813dcd87a905eacbbe0a469">FMBiGainMgr2::_gainBucket</a>[2]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>two gain buckets </p>

<p>Referenced by <a class="el" href="classFMBiGainMgr2.html#a781393b972faf4406b4268b38c6a2652">FMBiGainMgr2()</a>, <a class="el" href="classFMBiGainMgr2.html#a6520407d8e1b34f5e772eed8b76cd1ee">getGain()</a>, <a class="el" href="classFMBiGainMgr2.html#a5b2266303b34c461163a1b0888d15d53">pushBack()</a>, <a class="el" href="classFMBiGainMgr2.html#a56d57465dbc324c3500b5b310ae064b1">updateMove()</a>, <a class="el" href="group__group3.html#ga178e4046bd22caac0c4dcc1008b554f2">FMBiGainMgr3::updateNeighbor()</a>, and <a class="el" href="classFMBiGainMgr2.html#a9de549601a25284c14da04cf8f2dac4a">updateNeighbor()</a>.</p>

</div>
</div>
<a class="anchor" id="ac11306da8f8fc38c5faa87d1003e584d"></a><!-- doxytag: member="FMBiGainMgr2::_gainBucketCur" ref="ac11306da8f8fc38c5faa87d1003e584d" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGBPQueueCursor.html">VertexPQCur</a> <a class="el" href="classFMBiGainMgr2.html#ac11306da8f8fc38c5faa87d1003e584d">FMBiGainMgr2::_gainBucketCur</a>[2]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>gain bucket cursor </p>

<p>Referenced by <a class="el" href="classFMBiGainMgr2.html#a781393b972faf4406b4268b38c6a2652">FMBiGainMgr2()</a>, and <a class="el" href="classFMBiGainMgr2.html#af6b8fdbdc4ad5079b3a98b0aa7bd6212">select()</a>.</p>

</div>
</div>
<a class="anchor" id="a52a849461aa7894bf38676da99c7235b"></a><!-- doxytag: member="FMBiGainMgr2::_H" ref="a52a849461aa7894bf38676da99c7235b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNetlist.html">Netlist</a>&amp; <a class="el" href="classFMBiGainMgr2.html#a52a849461aa7894bf38676da99c7235b">FMBiGainMgr2::_H</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the hypergraph </p>

<p>Referenced by <a class="el" href="classFMBiGainMgr2.html#a781393b972faf4406b4268b38c6a2652">FMBiGainMgr2()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a44c6720a7d35b9682ee5edff12819e"></a><!-- doxytag: member="FMBiGainMgr2::_vertexArray" ref="a2a44c6720a7d35b9682ee5edff12819e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGNode.html">Vertex</a>* const <a class="el" href="classFMBiGainMgr2.html#a2a44c6720a7d35b9682ee5edff12819e">FMBiGainMgr2::_vertexArray</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>VERTEX array </p>

<p>Referenced by <a class="el" href="classFMBiGainMgr2.html#a6520407d8e1b34f5e772eed8b76cd1ee">getGain()</a>, <a class="el" href="classFMBiGainMgr2.html#a5b2266303b34c461163a1b0888d15d53">pushBack()</a>, <a class="el" href="classFMBiGainMgr2.html#af6b8fdbdc4ad5079b3a98b0aa7bd6212">select()</a>, <a class="el" href="classFMBiGainMgr2.html#a56d57465dbc324c3500b5b310ae064b1">updateMove()</a>, <a class="el" href="group__group3.html#ga178e4046bd22caac0c4dcc1008b554f2">FMBiGainMgr3::updateNeighbor()</a>, and <a class="el" href="classFMBiGainMgr2.html#a9de549601a25284c14da04cf8f2dac4a">updateNeighbor()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="FMBiGainMgr2_8hpp_source.html">FMBiGainMgr2.hpp</a></li>
<li>FMBiGainMgr2.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
